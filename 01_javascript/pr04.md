<h1>Projeto 01 - Conta Banc√°ria - Heran√ßas - Classe Conta</h1>



Na etapa anterior, implementamos a nossa primeira Classe Model, a Classe Conta, que define uma Conta Banc√°ria gen√©rica, com os Atributos comuns a toda e qualquer tipo de conta.

Nesta etapa, vamos implementar as Classes Model **ContaCorrente** e **ContaPoupanca** como **Heran√ßas da Classe Conta**. O Diagrama de Classes do nosso Projeto ficar√° da seguinte forma:

```mermaid
classDiagram
class Conta {
  - numero : number
  - agencia : number
  - tipo : number
  - titular : string
  - saldo : number
  + get numero() number
  + get agencia() number
  + get tipo() number
  + get titular() string
  + get saldo() number
  + set numero(numero: number) void
  + set agencia(agencia: number) void
  + set tipo(tipo: number) void
  + set titular(titular: string) void
  + set saldo(saldo: number) void
  + sacar(valor: number) boolean
  + depositar(valor: number) void
  + visualizar() void
}
class ContaCorrente {
  - limite : number
  + get limite() number
  + set limite(limite: number) void
  + sacar(number valor) boolean
  + visualizar() void
}
class ContaPoupanca {
  - aniversario : number
  + get aniversario() number
  + set aniversario(aniversario: number) void
  + visualizar() void
}
Conta <|-- ContaCorrente
Conta <|-- ContaPoupanca
```

<br />

<h2>üë£ Passo 01 - Criar a Classe ContaCorrente herdando a Classe Conta</h2>



Agora vamos criar a **Classe ContaCorrente** na **pasta model**.

1. Selecione a pasta **model** e clique no bot√£o **New File** (Novo Arquivo), indicado na imagem abaixo:  

<div align="center"><img src="https://i.imgur.com/AeGuLGI.png" title="source: imgur.com" /></div>

2. O nome do arquivo ser√° **ContaCorrente.ts**, como mostra a figura abaixo. Ap√≥s digitar o nome do arquivo, pressione a tecla **enter** do seu teclado para concluir. 

<div align="center"><img src="https://i.imgur.com/QbgThTv.png" title="source: imgur.com" /></div>

<br />

Vamos implementar e analisar o c√≥digo da **Classe ContaCorrente herdando a Classe Conta**:

 <div align="left"><img src="https://i.imgur.com/SM1RSWp.png" title="source: imgur.com" /></div>

**Linha 01:** Atrav√©s da palavra reservada **import**, importamos a Classe Model **Conta**.

**Linha 02:** Observe que na assinatura da Classe **ContaCorrente**, vamos adicionar a palavra reservada **extends** e na sequ√™ncia o nome da Classe que ser√° herdada (**Conta**). 

**Linha 05:** Adicionamos o atributo **_limite**, espec√≠fico da Classe **ContaCorrente**.

**Linha 07:** O M√©todo Construtor foi criado com os respectivos par√¢metros herdados da Classe Conta e os seus par√¢metros espec√≠ficos. Observe que as vari√°veis inseridas possuem o mesmo nome e tipo dos Atributos da Classe Conta e ContaCorrente. Ao instanciar uma novo Objeto, o M√©todo Construtor receber√° todos os dados do Objeto atrav√©s deste par√¢metros, que ser√£o atribu√≠dos aos Atributos do Objeto

**Linha 09:** Observe que os Atributos da Classe Conta s√£o acessados e modificados atrav√©s do M√©todo **super()**. Nos argumentos do M√©todo super(), foram adicionados apenas os par√¢metros do M√©todo Construtor ContaCorrente, que ser√£o recebidos do M√©todo Construtor da Classe Conta. A reutiliza√ß√£o do c√≥digo da Classe Conta, na Classe ContaCorrente √© poss√≠vel gra√ßas ao conceito de Heran√ßa.

**Linha 10:** Vamos adicionar a vari√°vel **_limite**, que representa um Atributo espec√≠fico da Classe ContaCorrente, que foram definidos no Diagrama de Classes acima. Observe que o Atributo possui o modificador de acesso **private**, ou seja, √© acess√≠vel apenas dentro da Classe ContaCorrente. 

> **Observa√ß√µes Importantes!** 
>
> A palavra-chave **super** refere-se a uma **superclasse**. Ela indica a chamada ao M√©todo Construtor da **superclasse**. Caso a **superclasse** n√£o possua um M√©todo Construtor e o M√©todo Construtor da **subclasse** n√£o chamar nenhum outro M√©todo Construtor da **superclasse** explicitamente o TypeScript vai informar um erro.
>
> Observe que na **Classe ContaCorrente** foram declaradas apenas **as diferen√ßas (M√©todos e Atributos)** entre a **subclasse** e **superclasse**, ou seja, o reuso √© autom√°tico.

<br />

<h2>üë£ Passo 02 - Criar os M√©todos Get e Set</h2>



Depois de criarmos os Atributos e o M√©todo Construtor, precisamos criar os **M√©todos Get e Set** para o Atributo limite da Classe ContaCorrente. Atrav√©s destes M√©todos, poderemos acessar e modificar os Atributos da Classe ContaCorrente a partir de outras Classes e mantermos o nosso Atributo protegido atrav√©s do Encapsulamento.

A implementa√ß√£o dos M√©todos ficar√£o semelhantes a imagem abaixo:

 <div align="left"><img src="https://i.imgur.com/1LbmF1v.png" title="source: imgur.com" /></div>

<br />

| <img src="https://i.imgur.com/hOgWvSc.png" title="source: imgur.com" width="80px"/> | <div align="left"> **ATEN√á√ÉO:** *Observe que foram implementados M√©todos Get e Set apenas do atributo limite. Os demais atributos herdar√£o os M√©todos Get e Set da Superclasse.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

<h2>üë£ Passo 03 - Criar os M√©todos Espec√≠ficos</h2>



Vamos criar 2 M√©todos Espec√≠ficos na Classe ContaCorrente:

1. **Sacar:** M√©todo respons√°vel por efetuar a opera√ß√£o de saque na ContaCorrente. Este M√©todo ser√° implementado sobrescrevendo o M√©todo Sacar da Classe Conta;
2. **Visualizar:** M√©todo respons√°vel por efetuar a opera√ß√£o de Visualizar todos os dados da ContaCorrente. Este M√©todo ser√° implementado sobrescrevendo o M√©todo Visualizar da Classe Conta

 <div align="left"><img src="https://i.imgur.com/mBg3Lzo.png" title="source: imgur.com" /></div>

**Linha 21:** Observe que a assinatura do M√©todo ser√° igual ao do M√©todo **sacar()** da Classe Conta.

**Linhas 23 a 29:** O M√©todo **sacar()** da Classe ContaCorrente √© praticamente igual ao M√©todo sacar() da Classe Conta. A √∫nica mudan√ßa ser√° no la√ßo condicional if (linha 23), que verifica se o valor do saque √© menor do que o saldo dispon√≠vel na conta somado com o limite da conta.

 <div align="left"><img src="https://i.imgur.com/wAooSoj.png" title="source: imgur.com" /></div>

**Linha 32:** Observe que a assinatura do M√©todo ser√° igual ao do M√©todo **visualizar()** da Classe Conta.

**Linha33:** Foi adicionado o comando **super.visualizar()**, que executa o M√©todo visualizar() da Classe Conta. O comando super pode ser utilizado na Classe filha pra chamar qualquer M√©todo da Classe m√£e.

**Linha 34:** Atrav√©s do comando de Sa√≠da **console.log()**, foi adicionado o Atributo **_limite**. Para obter os dados do Atributo limite da Classe ContaCorrente, foi utilizada a palavra reservada **this**, para fazer refer√™ncia ao Objeto que exibir√° os dados no console, seguido do nome do Atributo que ser√° exibido em cada linha.

> **Observa√ß√µes Importantes!**
>
> Observe que as assinaturas dos M√©todos **Sacar e Visualizar** da Classe ContaCorrente s√£o praticamente as mesmas da Classe Conta, entretanto eles possuem uma implementa√ß√£o diferente da Classe Conta, logo os M√©todos **Sacar e Visualizar** da Classe Conta foram Sobrescritos na Classe ContaCorrente.
>
> Os M√©todos **Sacar e Visualizar** da Classe ContaCorrente foram sobrescritos por um simples motivo: A Classe ContaCorrente **n√£o possui acesso direto** √†s vari√°veis de inst√¢ncia privadas (Atributos) da **Superclasse**, ou seja, esses m√©todos n√£o podem alterar diretamente uma vari√°vel de inst√¢ncia, embora cada objeto da Classe **ContaCorrente** tenha uma vari√°vel de inst√¢ncia igual a da Superclasse, logo para executarem um processamento diferente da Superclasse, eles precisam ser Sobrescritos.
>
> Um ponto de aten√ß√£o importante em rela√ß√£o a Sobrescrita √© que um **m√©todo redefinido em uma Subclasse** com o **mesmo nome** e **mesma lista de par√¢metros** que o **m√©todo em uma de suas classes antecessoras**, automaticamente oculta o m√©todo da classe ancestral (superclasse) a partir da Subclasse, ou seja, ele passa a usar o M√©todo da Subclasse.

O c√≥digo completo da Classe ContaCorrente, voc√™ confere abaixo:

```ts
import { Conta } from "./Conta";

export class ContaCorrente extends Conta {

    private _limite: number;

    constructor(numero: number, agencia: number, tipo: number, titular: string, 
        saldo: number, limite: number) {
        super(numero, agencia, tipo, titular, saldo);
        this._limite = limite;
    }
    
    public get limite() {
        return this._limite;
    }

    public set limite(limite: number) {
        this._limite = limite;
    }

    public sacar(valor: number): boolean {

        if ((this.saldo + this._limite) < valor) {
            console.log("\n Saldo Insuficiente!");
            return false;
        }

        this.saldo = this.saldo - valor;
        return true;
    }

    public visualizar(): void {
        super.visualizar();
        console.log("Limite: " + this._limite.toFixed(2));
    }

}
```

<br />


<h2>üë£ Passo 04 - Criar a Classe ContaPoupanca herdando a Classe Conta</h2>



Agora vamos criar a **Classe ContaPoupanca** na **pasta model**.



1. Selecione a pasta **model** e clique no bot√£o **New File** (Novo Arquivo), indicado na imagem abaixo:  

<div align="center"><img src="https://i.imgur.com/AeGuLGI.png" title="source: imgur.com" /></div>

2. O nome do arquivo ser√° **ContaPoupanc.ts**, como mostra a figura abaixo. Ap√≥s digitar o nome do arquivo, pressione a tecla **enter** do seu teclado para concluir. 

<div align="center"><img src="https://i.imgur.com/9EtOhMK.png" title="source: imgur.com" /></div>

<br />

Vamos implementar o c√≥digo da Classe ContaPoupanca herdando a Classe Conta, conforme o c√≥digo abaixo:


```ts
import { Conta } from "./Conta";

export class ContaPoupanca extends Conta {

    private _aniversario: number;

    constructor(numero: number, agencia: number, tipo: number, titular: string, 
        saldo: number, aniversario: number) {
        super(numero, agencia, tipo, titular, saldo);
        this._aniversario = aniversario;
    }
    public get aniversario() {
        return this._aniversario;
    }

    public set aniversario(aniversario: number) {
        this._aniversario = aniversario;
    }

    public visualizar(): void {
        super.visualizar();
        console.log("Dia do anivers√°rio: " + this._aniversario);
    }

}
```

Observe que na **Classe ContaPoupanca** foram declaradas apenas **as diferen√ßas (M√©todos e Atributos)** entre a **subclasse** e **superclasse**, ou seja, o reuso √© autom√°tico. Al√©m disso, apenas o M√©todo **Visualizar()** foi Sobrescrito.

<br />

<h2>üë£ Passo 05 - Atualizar a Classe Menu</h2>



1. Abra a Classe **Menu**;
2. Adicione os testes das **Classes ContaCorrente e ContaPoupanca**, como mostra a imagem abaixo:

<div align="center"><img src="https://i.imgur.com/MpTb40W.png" title="source: imgur.com" /></div>

Observe que foi instanciado um Objeto da Classe ContaCorrente e outro Objeto da Classe ContaPoupanca, chamando os respectivos M√©todos de cada Classe. 

Execute o projeto no Terminal do VSCode, atrav√©s do comando abaixo:

```bash
ts-node Menu.ts
```

O resultado, voc√™ confere abaixo:

```bash
*****************************************************
Dados da Conta:
*****************************************************
Numero da Conta: 1
Ag√™ncia: 123
Tipo da Conta: Conta Corrente
Titular: Adriana
Saldo: 10000.00

 Saldo Insuficiente!


*****************************************************
Dados da Conta:
*****************************************************
Numero da Conta: 1
Ag√™ncia: 123
Tipo da Conta: Conta Corrente
Titular: Adriana
Saldo: 10000.00


*****************************************************
Dados da Conta:
*****************************************************
Numero da Conta: 1
Ag√™ncia: 123
Tipo da Conta: Conta Corrente
Titular: Adriana
Saldo: 15000.00


*****************************************************
Dados da Conta:
*****************************************************
Numero da Conta: 2
Ag√™ncia: 123
Tipo da Conta: Conta Corrente
Titular: Mariana
Saldo: 15000.00
Limite: 1000.00


*****************************************************
Dados da Conta:
*****************************************************
Numero da Conta: 2
Ag√™ncia: 123
Tipo da Conta: Conta Corrente
Titular: Mariana
Saldo: 13000.00
Limite: 1000.00


*****************************************************
Dados da Conta:
*****************************************************
Numero da Conta: 2
Ag√™ncia: 123
Tipo da Conta: Conta Corrente
Titular: Mariana
Saldo: 14000.00
Limite: 1000.00


*****************************************************
Dados da Conta:
*****************************************************
Numero da Conta: 3
Ag√™ncia: 123
Tipo da Conta: Conta Poupan√ßa
Titular: Victor
Saldo: 1000.00
Dia do anivers√°rio: 10


*****************************************************
Dados da Conta:
*****************************************************
Numero da Conta: 3
Ag√™ncia: 123
Tipo da Conta: Conta Poupan√ßa
Titular: Victor
Saldo: 800.00
Dia do anivers√°rio: 10


*****************************************************
Dados da Conta:
*****************************************************
Numero da Conta: 3
Ag√™ncia: 123
Tipo da Conta: Conta Poupan√ßa
Titular: Victor
Saldo: 1800.00
Dia do anivers√°rio: 10

Menu...
```

<br />

Observe que as Opera√ß√µes de Saque e Dep√≥sito, efetuadas nos Objetos das Classes ContaCorrente e ContaPoupanca, foram efetuados com sucesso.

<br />


| <img src="https://i.imgur.com/vVDBDG0.png" title="source: imgur.com" width="200px"/> | <div align="left"> **ALERTA DE BSM:** *Mantenha a Aten√ß√£o aos Detalhes ao executar o projeto. Observe que as linhas acima, ser√£o exibidas antes do Menu, logo voc√™ precisar√° rolar a tela do Console para cima, para Visualizar os testes.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

O c√≥digo completo da Classe Menu, voc√™ confere abaixo:

```ts
import readlinesync from 'readline-sync';
import { colors } from './src/util/Colors';
import { Conta } from './src/model/Conta';
import { ContaCorrente } from './src/model/ContaCorrente';
import { ContaPoupanca } from './src/model/ContaPoupanca';

export function main() {

    let opcao: number;
    
   // Objeto da Classe Conta (Teste)
    const conta: Conta = new Conta(1, 123, 1, "Adriana", 10000);
    conta.visualizar();
    conta.sacar(10500);
    conta.visualizar();
    conta.depositar(5000);
    conta.visualizar();

   // Objeto da Classe ContaCorrente (Teste)
    const contacorrente: ContaCorrente = new ContaCorrente(2, 123, 1, "Mariana", 15000, 1000);
    contacorrente.visualizar();
    contacorrente.sacar(2000);
    contacorrente.visualizar();
    contacorrente.depositar(1000);
    contacorrente.visualizar();

    // Objeto da Classe ContaPoupanca (teste)
    const contapoupanca: ContaPoupanca = new ContaPoupanca(3, 123, 2, "Victor", 1000, 10);
    contapoupanca.visualizar();
    contapoupanca.sacar(200);
    contapoupanca.visualizar();
    contapoupanca.depositar(1000);
    contapoupanca.visualizar();

    while (true) {

        console.log(colors.bg.black, colors.fg.yellow, 
                    "*****************************************************");
        console.log("                                                     ");
        console.log("                BANCO DO BRAZIL COM Z                ");
        console.log("                                                     ");
        console.log("*****************************************************");
        console.log("                                                     ");
        console.log("            1 - Criar Conta                          ");
        console.log("            2 - Listar todas as Contas               ");
        console.log("            3 - Buscar Conta por Numero              ");
        console.log("            4 - Atualizar Dados da Conta             ");
        console.log("            5 - Apagar Conta                         ");
        console.log("            6 - Sacar                                ");
        console.log("            7 - Depositar                            ");
        console.log("            8 - Transferir valores entre Contas      ");
        console.log("            9 - Sair                                 ");
        console.log("                                                     ");
        console.log("*****************************************************");
        console.log("                                                     ", colors.reset);

        console.log("Entre com a op√ß√£o desejada: ");
        opcao = readlinesync.questionInt("");

        if (opcao == 9) {
            console.log(colors.fg.greenstrong, "\nBanco do Brazil com Z - O seu Futuro come√ßa aqui!");
            sobre();
            console.log(colors.reset, "");
            process.exit(0);
        }

        switch (opcao) {
            case 1:
                console.log(colors.fg.whitestrong, "\n\nCriar Conta\n\n", colors.reset);
                
                keyPress()
                break;
            case 2:
                console.log(colors.fg.whitestrong, "\n\nListar todas as Contas\n\n", colors.reset);

                keyPress()
                break;
            case 3:
                console.log(colors.fg.whitestrong, "\n\nConsultar dados da Conta - por n√∫mero\n\n", colors.reset);

                keyPress()
                break;
            case 4:
                console.log(colors.fg.whitestrong, "\n\nAtualizar dados da Conta\n\n", colors.reset);

                keyPress()
                break;
            case 5:
                console.log(colors.fg.whitestrong, "\n\nApagar uma Conta\n\n", colors.reset);

                keyPress()
                break;
            case 6:
                console.log(colors.fg.whitestrong, "\n\nSaque\n\n", colors.reset);

                keyPress()
                break;
            case 7:
                console.log(colors.fg.whitestrong, "\n\nDep√≥sito\n\n", colors.reset);

                keyPress()
                break;
            case 8:
                console.log(colors.fg.whitestrong, "\n\nTransfer√™ncia entre Contas\n\n", colors.reset);

                keyPress()
                break;
            default:
                console.log(colors.fg.whitestrong, "\nOp√ß√£o Inv√°lida!\n", colors.reset);

                keyPress()
                break;
        }
    }

}

/* Fun√ß√£o com os dados da pessoa desenvolvedora */
function sobre(): void {
    console.log("\n*****************************************************");
    console.log("Projeto Desenvolvido por: ");
    console.log("Generation Brasil - generation@generation.org");
    console.log("github.com/conteudoGeneration");
    console.log("*****************************************************");
}

function keyPress(): void {
    console.log(colors.reset, "");
    console.log("\nPressione enter para continuar...");
    readlinesync.prompt();
}

main();
```

<br />

<div align="left"><img src="https://i.imgur.com/JACNZiR.png" title="source: imgur.com" width="4%"/> <a href="https://github.com/rafaelq80/conta_bancaria_typescript/tree/05_Model_ContaPoupanca" target="_blank"><b>C√≥digo fonte: Projeto Conta Banc√°ria</b></a></div>

<br /><br />

<div align="left"><a href="README.md"><img src="https://i.imgur.com/XMgF3gl.png" title="source: imgur.com" width="3%"/>Voltar</a></div>